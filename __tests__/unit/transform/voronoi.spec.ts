import { Voronoi } from '../../../src/transform';

describe('Voronoi', () => {
  it('Voronoi({...}) returns function transform data', () => {
    const data = [
      { x: 200, y: 200, v: 1 },
      { x: 760, y: 300, v: 2 },
    ];

    const v = Voronoi({
      fields: ['x', 'y'],
      as: ['xi', 'yi'],
      extend: [
        [0, 0],
        [960, 500],
      ],
    });

    expect(v(data)).toEqual([
      {
        x: 200,
        y: 200,
        v: 1,
        xi: [435.3571428571429, 524.6428571428572, 0, 0],
        yi: [500, 0, 0, 500],
      },
      {
        x: 760,
        y: 300,
        v: 2,
        xi: [524.6428571428572, 435.3571428571429, 960, 960],
        yi: [0, 500, 500, 0],
      },
    ]);
  });
});
